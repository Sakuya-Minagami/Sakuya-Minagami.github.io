---
title: 遍历与迭代
---
内容包括Iterator接口
*好难，以后再写*

[《你不知道的JavaScript》：迭代器Iterator的背景梳理](https://cloud.tencent.com/developer/article/1495269)

# 引入
[出处](https://blog.csdn.net/qq_39576711/article/details/124302627)
对于一些数据类型，如Array等，具有内置的迭代器，可以使用``for...of``进行遍历
但是对于一些对象，就需要使用Symbol.iterator定义给所有对象的迭代器
```JavaScript
let obj = {
    0:123,
    1:456,
    2:789,
    length:3,
    [Symbol.iterator]:function(){
        let index = 0
        return {
            next(){ //迭代器返回的对象需要有next()方法
                return {
                    value:obj[index++],//value为迭代器生成的值
                    done:index > obj.length //迭代器的停止条件，done为true停止
                }
            }
        }
    }
}
// 现在我们可以对obj对象进行遍历了
for(var v of obj){
    console.log(v)
}
>> 123
>> 456
>> 789
```
我们也可以用Generator函数实现
```JavaScript
var obj = {
    0:123,
    1:456,
    2:789,
    length:3,
    [Symbol.iterator]:function*(){
        let index = 0
        while(index < obj.length){
            yield obj[index++]
        }
    }
}

for(var v of obj){
    console.log(v)
}
>> 123
>> 456
>> 789
```