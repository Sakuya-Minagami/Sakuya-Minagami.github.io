---
title: 闭包
---
挺复杂一个东西，也专门开一篇
暂时还没办法讲清楚，不过可以先留一些问题和结论
关键词：作用域链、执行上下文、节流防抖

当函数开始执行时，函数中的变量以及函数会压入栈中，那么此时如果当前的作用域中有另一个函数正在使用该作用域的变量，该变量占用的内存也不会被垃圾回收机制回收，这个现象就是闭包
换句话说，闭包是指函数能够"记住"并访问其创建时的词法环境，在函数定义的词法作用域之外执行同样适用
# 例子
```js
const arr = [];
for(let  i=0;i<3;i++){
	arr[i] = () => {
		console.log(i);
	}
};

arr.forEach( fn => fn());
```
# 一个react定时器
```jsx
import { useEffect,useState } from 'react';

function App(){
	useEffect(() => {
		setInterval(() => {
			setCount(count + 1);
		},500);
	},[]);
	useEffect(() => {
		setInterval(() => {
			console.log(count);
		},500);
	},[]);
	return <div>App</div>
}
```
[react中的过期闭包](https://www.jb51.net/program/299211y3t.htm)
